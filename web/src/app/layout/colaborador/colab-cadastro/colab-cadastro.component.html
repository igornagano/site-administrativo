<div [@routerTransition]>
   
	<div ng-app="validationApp" ng-controller="mainController">
    
    	<div class="container">  	
    		<section id="latdir">
        		<div class="col-sm-8 col-sm-offset-2">

        			<script type="text/javascript">
        			function mcpf(v) {
					    v = v.replace(/\D/g, "");             //Remove tudo o que não é dígito
					    v = v.replace(/^(\d{3})(\d)/g, "$1.$2");//Coloca . após 3 numeros
					    v = v.replace(/^(\d{3}).(\d{3})(\d)/g, "$1.$2.$3"); // colca o segundo . após 6 numeros
					    v = v.replace(/^(\d{3}).(\d{3}).(\d{3})(\d{1,2})/g, "$1.$2.$3-$4");    //Coloca hífen após 9 numeros
					    return v;
					}
        			</script>
        			
            
		            <form (ngSubmit)='onSubmit()' #formulario> 

		            	<div>
		            		<h1>Cadastro do Colaborador</h1>
		            	</div>		               
		               <div class="form-group">
		                    <label>Nome</label>
		                    <input type="text" class="form-control" required [(ngModel)]="model.nome" name="nome"#nome="ngModel" [ngModelOptions]="{ updateOn: 'change'}">
		                </div>		                
		                <div class="form-group" >
		                    <label>Email</label>
		                    <span>
		                    <input type="text" class="form-control" id="email" required [(ngModel)]="model.email" name="email" #email="ngModel" [ngModelOptions]="{ updateOn: 'change'}"></span>
		                </div>
		                <div class="form-group">
		                    <label>Senha</label>
		                    <input type="password" name="senha" class="form-control" required [(ngModel)]="model.senha" #senha="ngModel" [ngModelOptions]="{ updateOn: 'change'}">
		                </div>
		                <div class="form-group">
		                    <label>Confirmar Senha</label>
		                    <input type="password" name="confsenha" class="form-control" required [(ngModel)]="senhas.confsenha" #confsenha="ngModel" [ngModelOptions]="{ updateOn: 'change'}">
		                </div>	               
		               <div class="form-group" >
		                    <label>CPF</label>
		                    <span>
		                    <input type="numero" class="form-control" id="cpf" placeholder="somente números" maxlength="14" required [(ngModel)]="model.cpf" name="cpf" #cpf="ngModel" [ngModelOptions]="{ updateOn: 'change'}"></span>
		                </div>
		                <div class="form-group" >
		                    <label>Telefone</label>
		                    <span>
		                    <input type="text" class="form-control" id="telefone" placeholder="somente números" maxlength="11" required [(ngModel)]="model.telefone" name="telefone" #cpf="ngModel" [ngModelOptions]="{ updateOn: 'change'}"></span>
		                </div>
		                <div class="form-group" >
		                    <label>Estabelecimento</label>
		                    <span>
		                    <select type="text" class="form-control" id="estabelecimento" required [(ngModel)]="model.id_estabelecimento" name="estabelecimento" #estabelecimento="ngModel" [ngModelOptions]="{ updateOn: 'change'}">
		                    	<option value="{{est.id_estabelecimento}}"  *ngFor="let est of estabelecimentos">{{est.unidade}}</option>
		                    </select></span>
		                </div>
		                <div class="form-group" *ngIf="proprietario=='S'">
		                    <label>Gestor</label>
		                    <span>
		                    <select type="text" class="form-control" id="gestor" required [(ngModel)]="dados.gestor" name="gestor" #gestor="ngModel" [ngModelOptions]="{ updateOn: 'change'}">
		                    	<option value="N">Não</option>
		                    	<option value="S">Sim</option>
		                    </select></span>
		                </div>		               
		                <button type="submit" class="btn btn-primary">Enviar</button>
		                <a [routerLink]="['/colaborador/lista']"><button type="button" class="btn btn-primary">Cancelar</button></a>
		            </form>	  
		         </div>  
        	</section>      
    	</div>
	</div>
</div>
 <router-outlet></router-outlet>
